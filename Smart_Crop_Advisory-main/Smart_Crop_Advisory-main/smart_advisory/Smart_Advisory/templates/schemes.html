<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>üåæ Government Schemes for Farmers</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">

    <div class="container py-4">
        <div class="bg-success text-white text-center p-3 rounded">
            <h2>üå± Farmer Government Schemes Portal</h2>
        </div>

        <div class="mt-4">
            <label class="form-label">Select a Scheme:</label>
            <select id="scheme" class="form-select">
                {% for name in schemes.keys() %}
                <option value="{{ name }}">{{ name }}</option>
                {% endfor %}
            </select>
        </div>

        <div class="text-center mt-4">
            <button class="btn btn-success" onclick="openScheme()">üåê Open Selected Scheme Website</button>
        </div>

        <p class="text-center text-muted mt-3">Select a scheme and click the button to visit its official website.</p>
    </div>

<script>
async function openScheme() {
    const scheme = document.getElementById("scheme").value;
    const res = await fetch("/get_link", {
        method: "POST",
        headers: {"Content-Type": "application/x-www-form-urlencoded"},
        body: `scheme=${encodeURIComponent(scheme)}`
    });
    const data = await res.json();
    if (data.url) {
        window.open(data.url, "_blank");
    } else {
        alert("No URL found for this scheme!");
    }
}
</script>

</body>
</html>
