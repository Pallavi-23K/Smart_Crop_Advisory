<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>ЁЯМдWeather</title>
    <style>
        body {
            background-color: #dfffdc;
            font-family: Arial, sans-serif;
            text-align: center;
            padding: 30px;
        }
        h1 { color: #333; }
        input, select {
            font-size: 16px;
            padding: 10px;
            margin: 5px;
            width: 300px;
        }
        button {
            font-size: 16px;
            padding: 10px 20px;
            background-color: #80d8a3;
            border: none;
            cursor: pointer;
        }
        #result {
            margin-top: 20px;
            text-align: left;
            background-color: #ffffff;
            padding: 20px;
            border-radius: 10px;
            display: inline-block;
            white-space: pre-line;
            max-width: 350px;
        }
    </style>
</head>
<body>
    <h1>ЁЯМдWeather</h1>
    
    <select id="language">
        <option value="en"> English</option>
        <option value="hi"> рд╣рд┐рдВрджреА (Hindi)</option>
        <option value="kn"> р▓Хр▓ир│Нр▓ир▓б (Kannada)</option>
        <option value="ta"> родрооро┐ро┤рпН (Tamil)</option>
    </select>
    
    <br />
    
    <input type="text" id="city" placeholder="Enter city name" required />
    
    <br /><br />
    
    <button onclick="getWeather()">тШБя╕П Get Weather</button>
    
    <br /><br />
    
    <div id="result"></div>

    <script>
        const translations = {
            en: {
                city: "ЁЯУН City",
                temp: "ЁЯМб Temperature",
                cond: "ЁЯМд Condition",
                humidity: "ЁЯТз Humidity",
                wind: "ЁЯМм Wind Speed",
                rain: "ЁЯМз Rain (last 1h)",
                snow: "тЭД Snow (last 1h)",
                error: "тЪа Error"
            },
            hi: {
                city: "ЁЯУН рд╢рд╣рд░",
                temp: "ЁЯМб рддрд╛рдкрдорд╛рди",
                cond: "ЁЯМд рд╕реНрдерд┐рддрд┐",
                humidity: "ЁЯТз рдЖрд░реНрджреНрд░рддрд╛",
                wind: "ЁЯМм рдкрд╡рди рдЧрддрд┐",
                rain: "ЁЯМз рдмрд╛рд░рд┐рд╢ (рдкрд┐рдЫрд▓реЗ 1 рдШрдВрдЯреЗ)",
                snow: "тЭД рдмрд░реНрдлрдмрд╛рд░реА (рдкрд┐рдЫрд▓реЗ 1 рдШрдВрдЯреЗ)",
                error: "тЪа рддреНрд░реБрдЯрд┐"
            },
            kn: {
                city: "ЁЯУН р▓ир▓Чр▓░",
                temp: "ЁЯМб р▓др▓╛р▓кр▓ор▓╛р▓и",
                cond: "ЁЯМд р▓╣р▓╡р▓╛р▓ор▓╛р▓и",
                humidity: "ЁЯТз р▓Жр▓░р│Нр▓жр│Нр▓░р▓др│Ж",
                wind: "ЁЯМм р▓Чр▓╛р▓│р▓┐р▓п р▓╡р│Зр▓Ч",
                rain: "ЁЯМз р▓ор▓│р│Ж (р▓Хр│Кр▓ир│Жр▓п 1 р▓Чр▓Вр▓Яр│Ж)",
                snow: "тЭД р▓╣р▓┐р▓ор▓кр▓╛р▓д (р▓Хр│Кр▓ир│Жр▓п 1 р▓Чр▓Вр▓Яр│Ж)",
                error: "тЪа р▓жр│Лр▓╖"
            },
            ta: {
                city: "ЁЯУН роироХро░роорпН",
                temp: "ЁЯМб ро╡рпЖрокрпНрокроиро┐ро▓рпИ",
                cond: "ЁЯМд роиро┐ро▓рпИроорпИ",
                humidity: "ЁЯТз роИро░рокрпНрокродроорпН",
                wind: "ЁЯМм роХро╛ро▒рпНро▒ро┐ройрпН ро╡рпЗроХроорпН",
                rain: "ЁЯМз рооро┤рпИ (роХроЯроирпНрод 1 роорогро┐ роирпЗро░роорпН)",
                snow: "тЭД рокройро┐ (роХроЯроирпНрод 1 роорогро┐ роирпЗро░роорпН)",
                error: "тЪа рокро┐ро┤рпИ"
            }
        };

        async function getWeather() {
            const city = document.getElementById("city").value.trim();
            const lang = document.getElementById("language").value;
            const resultDiv = document.getElementById("result");
            const t = translations[lang] || translations['en'];

            if (!city) {
                alert("тЭЧ Please enter a city");
                return;
            }

            resultDiv.textContent = "Fetching weather data...";

            try {
                const response = await fetch(`http://localhost:8000/weather?city=${encodeURIComponent(city)}&lang=${lang}`);
                const data = await response.json();

                if (data.error) {
                    resultDiv.innerHTML = `<p style="color:red;">${t.error}: ${data.error}</p>`;
                } else {
                    resultDiv.innerHTML = `
${t.city}: ${data.city}
${t.temp}: ${data.temperature} ┬░C
${t.cond}: ${data.condition}
${t.humidity}: ${data.humidity}%
${t.wind}: ${data.wind_speed} m/s
${t.rain}: ${data.rain} mm
${t.snow}: ${data.snow} mm
                    `;
                }
            } catch (error) {
                resultDiv.innerHTML = `<p style="color:red;">тЪа Failed to fetch weather data.</p>`;
                console.error(error);
            }
        }
    </script>
</body>
</html>
